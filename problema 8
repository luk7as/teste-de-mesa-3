using System;

class Program
{
    static void Main()
    {
        Menu menu = new Menu();
        menu.Exibir();
    }
}

class CalculadoraJuros
{
    public double CalcularMontante(double capital, double taxa)
    {
        return capital * (1 + taxa);
    }
}

class Menu
{
    private CalculadoraJuros calculadora = new CalculadoraJuros();

    private int meses = 8;
    private int dias = 10;

    private double[] capitais = { 1000, 5500, 12000 };
    private double[] taxas = { 0.03, 0.0248, 0.02 };

    public void Exibir()
    {
        Console.WriteLine("=== MENU DE SIMULAÇÃO ===\n");

        Console.WriteLine("Escolha o capital:");
        for (int i = 0; i < capitais.Length; i++)
            Console.WriteLine($"{i + 1} - R$ {capitais[i]}");

        Console.Write("Opção: ");
        int opCapital = int.Parse(Console.ReadLine()) - 1;

        Console.WriteLine("\nEscolha a taxa:");
        for (int i = 0; i < taxas.Length; i++)
            Console.WriteLine($"{i + 1} - {taxas[i] * 100}%");

        Console.Write("Opção: ");
        int opTaxa = int.Parse(Console.ReadLine()) - 1;

        double capital = capitais[opCapital];
        double taxa = taxas[opTaxa];

        double percentualResgate = 0.5;

        Console.WriteLine("\n=== SIMULAÇÃO MÊS A MÊS ===\n");
        Console.WriteLine("Mês\tSaldo Inicial\tJuros\t\tResgate\t\tSaldo Final");

        for (int mes = 1; mes <= meses; mes++)
        {
            double saldoInicial = capital;

            double saldoComJuros = calculadora.CalcularMontante(capital, taxa);
            double juros = saldoComJuros - saldoInicial;

            double resgate = 0;

            if (mes == 5)
            {
                resgate = saldoComJuros * percentualResgate;
                saldoComJuros -= resgate;
            }

            capital = saldoComJuros;

            Console.WriteLine(
                $"{mes}\t{saldoInicial:F2}\t\t{juros:F2}\t\t{resgate:F2}\t\t{capital:F2}"
            );
        }

        Console.WriteLine("\nPeríodo total: 8 meses e 10 dias");
        Console.WriteLine("Resgate parcial de 50% no 5º mês");
        Console.WriteLine("Obs: Os 10 dias finais não alteram o cálculo mensal.");
    }
}

